#include <stdio.h>
#include <string.h>

char string[100];

void exec_string(int a, int b) {
  if (a == 0xffffabcd && b == 0xffffabcc) {
        system(string);
    }
}

void add_bin(int arg1, int arg2) {
  if (arg1 == 0xcafebabe && arg2 == 0xdeadbeef) {
    strcat(string, "/bin");
  }
}

void add_bash(int magic1) {
  if (magic1 == 0xffffaaaa) {
    strcat(string, "/bash");
  }
}

void vulnerable_function(char *string) {
  int a = 9999;
  char buffer[130];
  gets(buffer);
  return 0;
}

int main(int argc, char** argv) {
  string[0] = 0;
  vulnerable_function(argv[1]);
  return 0;
}
